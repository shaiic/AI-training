## 1

大家好，今天我来给大家讲一门人工智能伦理与道德，我这个课让大家轻松轻松。首先我们来探讨一下什么是伦理与道德？这是一个非常形而上学的概念。我们先来看看伦理道德这个概念在西方是怎么定义的，英文叫ethics，就是风俗习惯的意思，西方主要是叔本华的唯意志主义伦理，詹姆斯的实用主义论理和海德格尔的存在主义伦理，海德格尔对西方世界影响比较大，倡导自由是产生价值存在的唯一源泉。这个概念在西方20世纪50年代是非常流行的，通过很多文学作品去宣传，所以对青少年的道德生活方式影响非常非常大。我们看看在中国古代有哪些伦理道德概念，在公园前六世纪，周易尚书等等就已经提出伦理两个概念了，伦理关系就是我们常说的三纲五常。理就是行为规范，应该遵守的道理，在我们古代流派也是很多的，其中我们比较熟知的有儒家，墨家和法家。儒家就倡导孔子的仁，墨家就倡导兼相爱，法家倡导法制，认为人性本恶，要通过法制来教化。孔子说克己复礼，礼仁合一，但是伦理在道德前面。这个学说在孟子的时候得到更大的发展。首先要防止人类要类与禽兽，教以人伦，让他们性格完善。

 

伦理就是哲学的分支，可以架起人与人之间的关系，来对人的行为产生制约与影响。我们作为技术人员为什么要去讲伦理与道德。魏则西事件他指出两个事情，武警二院是存在欺诈的，他们所宣传的疗法还处于研究阶段，而且2015年以后就没有临床试验了，但他们却拿来大量的吹嘘和治疗病人。 第二个指出百度在里面存在竞价排名盈利的做法，所以广大的网友都非常愤怒。有记者深挖，发现不但存在竞价排名的问题，还把公立医院的名字卖给山寨医院从中盈利。作为一个技术企业是要负社会责任的。

 

比尔盖茨作为世界首富，关注社会不平等，怎么去消灭不平等。他花了大量的金钱和时间和社会关系去消除不平等。他倡议哈佛的精英将具有的资源发挥出更大的作用，去用来消除社会的不平等，他话说世界很复杂，永远别低头。一个有道德的人是关心人类的幸福。我们称之为格局，作为一个有技术的人，当有了格局，眼光就会长远，当有了长远的眼光就有无穷的竞争力。所以技术人员为什么要关心伦理与道德呢，格局多大，舞台就有多大。

 

什么是人工智能伦理？我想用一部电影让大家感受一下什么是人工智能伦理与道德。



## 2

现在追重要的问题是伦理，科技已经走在伦理法律的前面，人工智能专家都开始思考人工智能的伦理与道德，我们来看一下top 9 的人工智能伦理问题。第一个就是失业的问题，我们知道自动化带来的效果就是让人从体力劳动转变成认知的劳动，从基础的劳动力劳动中被解放出来。我们知道在美国有数以百万计的卡车司机，特斯拉快就要发明无人驾驶的卡车，很多人将会因此失业，在2025年美国会有6%的工作岗位会被人工智能技术所替代，其中16%的人是工人，他们会被人工智能系统所代替，未来简史的作者也提到未来20-30年间有50%的工作机会将会被人工智能所替代。。第二个是分配机器创造的财富，第三个是humanity，人工智能机器人在模拟人类对话和人际关系方面正变得越来越好。第四个是Artificial stupidity.第五个是Racist roborts,算法歧视，或多或少是带着人类的偏见的。第六个是安全问题，第七个是Evil genies，第八个是Singularity,第九个是Robot rights.

 

我们再讲几个例子，第一个是责任与安全的例子：无人驾驶的伦理困境，该保护谁？车内乘客还是车外行人，车外老人还是车外小孩，还有就是谁的责任。 还有就是隐私的保护，Facebook用户数据泄露事件，5000万用户信息被泄露。

GDPR史上最严个人数据保护条例在欧盟正式生效，因为太严格所以给了两年时间去适应。里面提到了被遗忘权，还有一个就是限制处理权。

 

我们人们是在行动的，沈向阳提出AI六大原则，公平，可靠和安全，隐私和保障，包容，透明和负责。然后partnership on AI. 我们来recap一下今天将的内容，第一个是什么，为什么是AI伦理与道德，然后讲了9个问题，然后最后讲了世界各国AI伦理与道德的进步所做的努力。我还想重复一下比尔盖茨在哈佛大学的演讲，世界很复杂，永远别低头。

Be Good就够了。



## 3

今天主要给大家介绍微软的认知服务，这堂课比较跳跃，让大家有了基础，先看一下最终结果，知道用人工智能能够做什么。认知项是人工智能比较难的一块儿方面。根据这些认知服务，来给大家做进一步的介绍，会有一些基础的事例代码。第一个观点，世界本身就是一台计算机，世界是连接起来的，但从控制上又是一个离散的系统，让每一台计算机都有人类的认知。

服务的方面是很广泛的，主要是三个方面，视觉，语音，语言。认知里面我们还有搜索还有决策。从场景下我们还有很多定制化的内容，另外位置上我们有云的，本地环境，移动设备和物联网的解决方案。大家要知道这些服务都是一些单点的人工智能核心能力的东西，当我们要用的时候，我们要把他变成解决方案，产品还有很多事情要做，我们怎么去理解认知服务呢，大部分认知服务其实就做一件事，怎么把人类识别非结构化数据，不管视频，图片，文字变成结构化数据。



## 4

结构化数据就在这里，每个东西是什么，他们之间有什么包含关系，拿着这个信息就能做很多事情。识别文字已经有很多产品了，实际上还有很多应用，如果有更多数据的话，这些都会有提高。这里都是一些可以想的应用方向，，我们通过这些服务就能把手写的文字给提炼出来，我们也可以叫做结构化，比如拿一个图片去做搜索，我们把文字提出来就可以做搜索了，文本搜索这是一个很简单的问题，然后还有就是认知服务，计算机视觉，也是刚才服务背后的应用，这个服务是把知识隐形。这个应用就是把视频里的东西抽出来，做索引，还有人的信息综合出来，生成一个洞察类的服务。我们有了这些之后，文本化的信息，我们再去做真正视频级的搜索。除了对东西的认知，还有对人的认知，人脸识别做了很多年了，仅凭图片的认证要做安全性特别高的还是很难的。认知服务里面有很多信息，比方说情感，高不高兴，画没化妆，这块应用很多。人脸的话还有很多的信息，面目识别，相似脸搜索运用在安防中。然后就是分组。我们工业化上有定制化视觉，我们把数据分离开，定制化服务就是上传数据，对数据做标记，训练模型之后再去评估模型，在线的方法就能搜集更多数据，有更成熟的商品。

 

语音认知服务分成好几块，语音到文本，文本到语音，说话人识别，实时语音翻译，然后就是对话脚本。自定义语音里面有一些特殊读法，还有一些自定义声学模型，比如方言。语言的部分就是和文字相关的。认出各种语言还有关键词，还有就是情绪。语言认知服务里面的文本翻译，支持60种语言，还有一些音译的东西，还有一个实战的语言理解，把文字流变成结构化的过程。

 

我们这里面有实体怎么把一个非结构化数据变成结构化数据，除了结构是什么，还要关注可能性。我们在应用的时候怎么把他们结合起来，下面讲知识服务，最简单是QA，问答服务。可以关键词搜，没有关键词怎么办，就需要自然问答系统。



## 5

还有就是搜索服务，除了输入文字，我们还能输入图片。比如说这张图片不是很清楚，我们想找一张更清楚的图片，那你可以用。比如说我们拍一张天安门正面的图片，我们想知道它的背面，也可以用。还有就是图片到文字的变化。这些API都用起来是很贵的，因为涉及到爬人家网页。剩下来就是决策认知服务，它涉及到决定类的一些东西。个性化服务是一个新的服务，主要是在应用程序中提供个性化的体验，我们还有推荐的功能。异常检测在工业数据上用了非常的好。如果是面数据的话，做异常检测是非常有效。

 

第一个是看图识熊，它对环境是有要求的，第一个是windows版本，然后就是Visual Studio 2017,19也是能用的，然后就是Azure的国际账号。国内国外的数据中心是不能通用的。我希望大家能够了解定制化服务, 我另外希望大家能够了解定制化图像识别服务的基本使用。然后体验一下数据准备的过程，然后体验一下离线模式推理的应用，最后给大家挑战一下真正的开发。首先我们了解一下认知的流程，首先要输入知识，知识包括两块，一块是数据，一块是这个知识代表了什么。我们看下定制化服务的流程，第一是准备数据，第二是标记数据，第三是训练，第4是预测。根据不同的应用，每个过程的难点是不一样的。他的优点就是数据量少，今天我们训练每个只需要5张图片，然后训练很迅速，使用方便，不足就是精度和召回率依赖于领域的覆盖情况。我给大家演示一下这个东西做出来是什么样的，

 

地址必须是URL的地址，我们就能认出这只熊，99.9%是棕熊，别的可能都比较小。他待会儿来吧。这些熊不是按颜色来分的，这些熊耳朵和眼睛大小都是有区别的。这些卡通我们发觉认识的不是特别好。整个界面就分四块，输入框，一个是按钮，然后是输出结果。做的第一步，我们怎么把数据弄上去。我们在虚机里面地址，我们之后导出都是在虚机里面。



## 6

我们点new project来定制一个新的项目，分类是有一张图和多个类型的，还有就是一张图只有一个类型的。然后就点create，进入创建的项目，第一件事情就是给数据分类，我们可以写中文可以写英文，not
a bear就不是熊，negative就是负例的意思，写完就save保存，然后我们再添三个，棕熊，黑熊，北极熊，这样我们就能分好类了，我们一共四类东西。接下来就添加图片，就存在C盘，课程里面，熊的data里面，我们先把黑熊放上去，我们这里tag选的黑熊，这就是标记的过程，然后点上传，黑熊已经有图片了，接下来把棕熊，北极熊都上传。如果发现有些例子没认出来就把它往负例里面加，所以我们在做应用的时候，要做一个真正有用的，一方面要想到我们怎么把用户数据做二次准备，我们认不好的数据怎么来抓回来，等这个train，有快速训练和高级训练，我们点快速训练，训练过程很快，分数很低不用介意因为图比较少，这里涉及到一个是精度，一个是召回率，精度就是说如果是熊，我们百分之多少是对的，召回率就是我们一共七张图，灰熊一共有5张图，都被算进来了，虽然说算错了两张，但该有的都有了。这里面有一些随机的因素，我们可以训练一次再看看效果。我们先发布一下（publish），这里先做一下快速测试，我们把地址粘进来，他就能认出是一个棕熊。如果把一个猫的图片拿来测试，他就能认出不是一个熊，说明效果很好，我们可以把这些图做一些tag，这样就又完成了一个标记，模型就会越来越强大了。我们再到performance里面，我们今天要用的里面模型，现在是灰的，因为训练的是在线模型，这样就是不可导出的，因为这个模型太大了，我们点设置，domain下面有一个general compact，只有这种压缩的文件才能导出，这其实上是两个模型，但功能是一样的，我们再到performance这里，我们可以重新训练，这样我们就可以看到这个模型是可以导出的了。我们点导出，是跨平台的，点ONNX，选1.2，这里就要求我们windows版本高一点，然后我们点导出，实际上还要重新生成这张表，导出之后就可以下载了，下载之后我们就可以保存了，这个文件最好改个名字，小写的bear，名字一定要一样，接下来我们打开visual studio2017, 打开之后先打个补丁，点一下装，更新，运行之后把vs关掉再打开。



## 8

抓一个button按钮过来,
content写上识别，名称写上tbrecognize,这是一个button。然后我们再添加text block用来显示内容的，结果就显示在这里，也可以把字体调大一点，名字叫tbRusult , 选page, 然后添加图片, 点属性界面事件的这个按钮。生成一个pageload的函数。切到界面双击button,就有tbRecognize. 我们这个程序就需要这两个事件就好了。我们现在添加内容了，第一部比较简单，把熊，这个model，加一个叫model的类。我们这里写一个storagefile的类，我们再加一个变量叫做modelfile = await
StorageFile. Get, 按tab键就自动完成了。写完应该是没有波浪线的，如果有波浪线的话，就是哪里出错了。



## 9

加async和await是一对的，他会等到一个任务完成之后再执行，把CPU线程给空出来。先清空一下这两个共建。VideoFrame就把数据输入准备好了。所有的步骤都早try里面完成，基本就是类型转换，把数据的变换都做完。接下来代码就是来解释这些结果，准备更新共建。我们先来一个变量，把这些结果排一下序，到西排列一下，按照value。



## 10

接下来我们再把图片处理一下，这里要做一个图片类型的转换。这样我们就把图片也设置进去了，现在还有一个收尾工作，如果出错的话，我们不希望把这个程序弄崩溃，我们经常会有输错图片的情况，所以我们在这里加一个messageDialog, 然后代码就写完了。



## 11

我们运行一下。，它默认只能看见一部分空间，最大化就好了。找一个猫的图片去识别，结果认为它不是一个熊。大家回到这个网站，我们来试一下。我们到training image这个界面。再添加图片，这时候我们就能把所有熊猫加进来了，tag就可以在这个时候加，然后就上传。然后直接点这个train就好了。然后再导出这个ONXX1.2模型，刚开始的过程是一样的，我们回忆一下。可以直接把原来那个模型覆盖了，保存在大家，写代码的那个assets的目录里，就有了一个新的模型了。 真正的应用中，我们一定要保证这个模型能够迭代的。代码不需要任何改动。代码实战，我们做了什么了？我们来回忆一下，我们创建了一个项目，完成了界面设计，然后又重新训练了模型，把熊猫放上去了，这是我们刚才字做过的事情，分开来就是这么几步，大家都要有个概念，我们做了什么。接下来我们说一下数据规范化，首先我们在训练模型的时候，他是一个227×227的正方形，所以我们输入的时候先要把它变成一个正方形，第二就是不管放大还是缩小，都是227×227。然后就是按照三个通道把数据进行分块，每个矩阵不停的卷积和操作，把他最后变成输出的分类。在卷积的时候，颜色的分类也是很重要的。然后我们在真实的情况下会遇到什么问题呢？有可能有更多的界面联动。接下来我来讲这堂课的作业，我们先看这个目标检测。我们从视觉分类，图像分类的角度来看，一种是分类，我是画框，把东西框出来。要复杂的就是语义分割，就是每个像素点是什么。我们这的所有的数据标记，为所有的监督学习所准备的。所谓的无监督学习都只能做分类的一些操作，应用范围比较窄。数据准备是因为我们所有的机器学习，跟传统软件的区别就在于，它是数据驱动的逻辑。

 

智能家居所要用的环境跟之前的差不多，对客户端的版本要求不高。它是一个在线服务，并且是通用的服务。主要我们会接触到两个认知服务，一个是语音转文字，一个是语言理解。然后会体验语音服务的配置，体验一下这个应用，最后我们会有一个作业开发实践。先给大家做一个演示，这个程序开发起来挑战，我们通过之后要学的两个服务把他们结合起来，就能实现这样的效果。这是一个概念的演示。第一是把语音转成文字，然后是语言文字的理解，识别用户意图，怎么把文字的字符串变成一个结构化的数据，然后再去发布这个命令去控制这个灯。这就涉及到互联互通的这个功能，把我们这个麦克风和灯连到一起。我们先说语音转文本，这里面的一些东西，首先是需求，要做到人机很通畅的交流，其实是很难的。



## 12

就要自然的一个体验，这是在产品设计中所要考虑的问题。还有就是中间结果有什么用，我们有时候希望用户看到这个中间结果，虽然中间结果可能会变，但如果理解的差太远的话，就可以不要了。我们通过语音输入的一些输入法，间结果也是有用的，然后我们就需要这个最终结果，最终结果就要给服务器，得到一个反馈的结果。然后我们再来看这个自然语言理解的服务，就是把我们的文字转换成这样的文字体，把他整的分成两部分，一部分是意图，大的方向要干什么，还有这里的实体就是灯，里都是需要识别的。

七天试用选中国区，这一步就完成了，非常简单。有密钥了，别的都不重要。下面我们来看定制语言理解服务，我们可以认为他定制图像是一样的，有数据，标记，然后训练，但这个语音理解服务是在线上的。

 

我们创建一个新的应用，要输个名字，这个名字随便输，区域的话一定要选成中国，然后完成就可以了，然后点这个生成，意向就是intent，实体就是entity。这是两个最重要的ethics，那么先点这个创建新意向，名字是Turn On, 就是把灯打开的意思, 这里你就可以输入了。比如说什么是可以开灯，随便写五个就行。做完这个，再点这个意向，创建一个新意向，叫TurnOff, 也是一样，大小写不要错。我们点一下训练，这也很快。我们就可以看到开灯的概率是0.92。比如我们试一个没写过的，比如说看不清，这是我们测试的结果了。



## 13

下一步我们就可以发布了，发布的环境，我们就写production就可以了。接下来我们就找到终结点了，我们需要这个地址来做后面的服务。我们在到course这个文件夹里，我们把整个light control复制一遍，这样我们就能直接把代码拿过来就改，然后点开source里面的解决方案，把它打开。这里面的代码都在forms.cs,, 点击查看代码。我们先把几个key填进去，就这三个变量，整完就可以运行了。

大家先熟悉一下这个代码，初始化就不讲了，讲核心的。 SDK对语音是非常有好处的，他能把麦克风收集到的音频，直接转换成服务器需要的。一个是识别事件成功的，找到speech那一部分，配置就是subscription，拿到key和region之后，变成configure传到speechRecognizer里，语音识别里就有了这个对象，对象用起来就很简单。Configureawit有个高级功能，是一个叫做UI现成的功能，为了解决一些现成冲突的问题。把最终结果传到luis,这个函数，如果是中间结果的话就直接打印了。语音转文本这个api非常容易使用。稍微复杂一点，就是这个Luis。Get了string，返回一个json，根据它的结构题就能达到它的最高值是什么，分数是多少，然后打印出来就好了，然后把intent返回。

 

我们在回顾一下流程，第一步是人机交互的自然输入，只是电影比较简单，语音转文字，我们用的完全是客户端的服务，所以没有做任何的定制化，直接就用。语言理解，我们也根据自己的理解训练了一些话出来。只要通过这两个服务，我们就能把它组合起来。我们再看看真实场景是什么样子的，激活池需要硬件化，加速。内容的长短也是要注意的，这是一个自然的体验。还有就是多轮对话，多人对话有两种，一种是补充实体，还有就是减少上下文，就是省略式的多人对话。还有就是迭代数据，怎么去转化成一图。

 

我们接下来要做的就是实现多灯的控制，这就涉及到实体了，实体是两种，一种是把台灯打开，把客厅的灯打开，就是一个地方。我们这个作业就是有三个灯，可以单独开关，也可以一起关。然后还可以卧室关掉，客厅关掉，这是我们的第二个作业。



## 14,15,16,17

这个灯如果要简化的话，就输出几个状态。原本的程序该怎么写就怎么写，这只是帮你结构化，别的活儿不能帮你干。这是人自然说法的一个体现，我是说他的关联关系，而不是说他们实体之间的关系。因为语言服务，他帮你做的就是结构化，结构化之后的数据，让你自己给他们找关系。开关灯是一个意图，第一层意图就是你要开灯还是关灯，我们还有一个就是关所有灯，有三种意图，或者也可以说是两种意图，所有你也可以定义为实体。然后就是这些实体关哪个开哪个那就另说。



